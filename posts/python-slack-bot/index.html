<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Have a bot haunt your Slack workspace - Adam Oudad</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="generator" content="Hugo 0.72.0" /><meta itemprop="name" content="Have a bot haunt your Slack workspace">
<meta itemprop="description" content="In this article we&#39;ll see how to code your simple bot for Slack, and schedule it to run regularily. As some testing might be necessary, I recommend to create a dummy Slack workspace for this tutorial. Add a webhook for your Slack workspace   We first need to configure a web hook to communicate to our Slack workspace. Go to this url, choose your channel and click on add a webhook.">
<meta itemprop="datePublished" content="2020-05-21T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-05-21T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="416">



<meta itemprop="keywords" content="python,web," /><meta property="og:title" content="Have a bot haunt your Slack workspace" />
<meta property="og:description" content="In this article we&#39;ll see how to code your simple bot for Slack, and schedule it to run regularily. As some testing might be necessary, I recommend to create a dummy Slack workspace for this tutorial. Add a webhook for your Slack workspace   We first need to configure a web hook to communicate to our Slack workspace. Go to this url, choose your channel and click on add a webhook." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://adamoudad.github.io/posts/python-slack-bot/" />
<meta property="article:published_time" content="2020-05-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-21T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Have a bot haunt your Slack workspace"/>
<meta name="twitter:description" content="In this article we&#39;ll see how to code your simple bot for Slack, and schedule it to run regularily. As some testing might be necessary, I recommend to create a dummy Slack workspace for this tutorial. Add a webhook for your Slack workspace   We first need to configure a web hook to communicate to our Slack workspace. Go to this url, choose your channel and click on add a webhook."/>
<meta name="twitter:site" content="@OudadAdam"/>
<link rel="stylesheet" href="/css/bundle.min.a86839252b4aa4853111ceba45af5da1d6c3dc66a6a3b6854750bb2df61dfe37.css" integrity="sha256-qGg5JStKpIUxEc66Ra9dodbD3Gamo7aFR1C7LfYd/jc=">
        <link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    
<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/">
        
          
            posts
          
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu">
      
        
          
          
            <a href="/" class="link"><i class='fa fa-home'></i> Home</a>
          
        
      
        
          
          
            <a href="/about/" class="link"><i class='far fa-id-card'></i> About</a>
          
        
      
        
          
          
            <a href="/posts/" class="link"><i class='far fa-newspaper'></i> Posts</a>
          
        
      
        
          
          
            <a href="/categories/" class="link"><i class='fas fa-sitemap'></i> Categories</a>
          
        
      
      <a href="#share-menu" class="share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      

    </menu>
    

    <a href="#share-menu" class="share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="lang-menu" class="flyout-menu">
  <a href="#" lang="en" class="link active">English (en)</a>
  
    
      
    
  
</menu>

  
    <menu id="share-menu" class="flyout-menu">
      <h1>Share Post</h1>
      




  
    
    <a href="//twitter.com/share?text=Have%20a%20bot%20haunt%20your%20Slack%20workspace&amp;url=https%3a%2f%2fadamoudad.github.io%2fposts%2fpython-slack-bot%2f" target="_blank" rel="noopener" class="share-btn twitter">
        <i class="fab fa-twitter"></i><p>&nbsp;Twitter</p>
      </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fadamoudad.github.io%2fposts%2fpython-slack-bot%2f&amp;title=Have%20a%20bot%20haunt%20your%20Slack%20workspace" target="_blank" rel="noopener" class="share-btn linkedin">
            <i class="fab fa-linkedin"></i><p>&nbsp;LinkedIn</p>
          </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="/avatar.png" class="circle" width="150" alt="Adam Oudad" /></a>
  <header>
    <h1>Adam Oudad</h1>
  </header>
  <main>
    <p>(Machine) Learning log.</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/adamoudad" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/7013114/adam-oudad" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>








<li><a href="//medium.com/@adam.oudad" target="_blank" rel="noopener" title="Medium" class="fab fa-medium"></a></li>
<li><a href="//linkedin.com/in/adam-oudad-9436b866" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/OudadAdam" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>







<li><a href="//researchgate.net/profile/Adam_Oudad" target="_blank" rel="noopener" title="Research Gate"><i class="ai ai-researchgate"></i></a></li>




      </ul>
    </footer>
  
</section>

      <main id="site-main">
        <article class="post">
  <header>
  <div class="title">
    
        <h2><a href="/posts/python-slack-bot/">Have a bot haunt your Slack workspace</a></h2>
    
    
</div>
  <div class="meta">
    <time class="published" datetime="2020-05-21 00:00:00 &#43;0000 UTC">
      May 21, 2020
    </time>
    <span class="author"></span>
    
      <p>2 minutes read</p>
    
  </div>
</header>

  <section id="socnet-share">
    




  
    
    <a href="//twitter.com/share?text=Have%20a%20bot%20haunt%20your%20Slack%20workspace&amp;url=https%3a%2f%2fadamoudad.github.io%2fposts%2fpython-slack-bot%2f" target="_blank" rel="noopener" class="share-btn twitter">
        <i class="fab fa-twitter"></i><p>&nbsp;Twitter</p>
      </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fadamoudad.github.io%2fposts%2fpython-slack-bot%2f&amp;title=Have%20a%20bot%20haunt%20your%20Slack%20workspace" target="_blank" rel="noopener" class="share-btn linkedin">
            <i class="fab fa-linkedin"></i><p>&nbsp;LinkedIn</p>
          </a>
  


  </section>
  

  <div class="content">
    
<p>
In this article we&#39;ll see how to code your simple bot for <a href="https://slack.com">Slack</a>, and schedule it to run regularily. As some testing might be necessary, I recommend to create a dummy Slack workspace for this tutorial.
</p>
<h2 id="headline-1">
Add a webhook for your Slack workspace
</h2>
<p>
We first need to configure a web hook to communicate to our Slack workspace. Go to <a href="https://my.slack.com/services/new/incoming-webhook/">this url</a>, choose your channel and click on add a webhook. In this tutorial, I choose to post to the <code class="verbatim">#random</code> channel. The rest of the configuration can be left as is, so you can save it.
</p>
<p>
  Copy your web hook url which should have the form <a href="https://hooks.slack.com/services/SOME_GIBBERISH_CODE.">https://hooks.slack.com/services/SOME_GIBBERISH_CODE.</a>
</p>
<h2 id="headline-2">
Run the bot locally
</h2>
<p>
Let&#39;s test locally the connection to the webhook we just created. We&#39;ll use python library <a href="https://github.com/satoshi03/slack-python-webhook">slackweb</a>. The code is straightforward. We&#39;ll put this in <code>slackbot.py</code>.
</p>
<div class="src src-python">
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e">#!/bin/python3</span>
<span style="color:#75715e">#-*- encoding: utf-8 -*-</span>
<span style="color:#f92672">import</span> slackweb
HOOK_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;https://hooks.slack.com/services/SOME_GIBBERISH_CODE.&#39;</span>
slack <span style="color:#f92672">=</span> slackweb<span style="color:#f92672">.</span>Slack(url<span style="color:#f92672">=</span>HOOK_URL)
slack<span style="color:#f92672">.</span>notify(text<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Hello world!&#34;</span>)</code></pre></div>
</div>
<p>
Replace the content of <code>HOOK_URL</code> by your hook url copied from the previous step. Then run the code and check if it works; you should see in <code class="verbatim">#random</code> a message from your program. The first line of the above code specifies the location of the python interpreter to run, and the second line should be used if the file contains unicode characters, such as japanese kanji or french é, à, etc.
   <figure>
    <img src="slackbot-hello_world.jpg" width="auto"/> 
</figure>

</p>
<h2 id="headline-3">
Schedule the program
</h2>
<p>
You could decide to schedule the program to run on your own computer, but if you want it to run even when your computer is shut down, we need a web server. <a href="https://www.pythonanywhere.com/">PythonAnywhere</a> offers free server space and python environment for development purpose. So let&#39;s create an account and head to our <a href="https://www.pythonanywhere.com/dashboard/">PythonAnywhere dashboard</a>.
  <figure>
    <img src="pythonanywhere_dashboard.jpg" width="auto"/> 
</figure>

  Go to the <em>Files</em> tab and upload your file <code class="verbatim">slackbot.py</code> to your directory <code class="verbatim">/home/your_username/</code>.
  <figure>
    <img src="pythonanywhere_files.jpg" width="auto"/> 
</figure>

  Then, let&#39;s install the dependancy. Open a bash terminal and run <code>pip3 install --user slackweb</code>.
  <figure>
    <img src="pythonanywhere_bash.jpg" width="auto"/> 
</figure>

  Inside the same terminal, we can check that everything works. Run <code>python3 slackbot.py</code>, and see if the message appears again in #random channel.
</p>
<p>
  Scheduling is done in the <em>Task</em> tab. Create your task by specifying a frequency and the command to run: <code>/home/adamoudad/slackbot.py</code>. You can see the expiry date of your task when you created it, which is probably roughly one month. For the free plan, PythonAnywhere requests you to log at least once a month for your scheduled tasks to remain valid.
  <figure>
    <img src="pythonanywhere_tasks.jpg" width="auto"/> 
</figure>

</p>
<h2 id="headline-4">
Conclusion
</h2>
<p>
That&#39;s it! you have your Slack bot up and running on the web. And it will haunt your Slack workspace until the end of times… cordially.
</p>

  </div>
  <footer>
    <ul class="stats">
  
    
    
      <li class="categories">
        <ul>
          
            
            <li><a class="article-category-link" href="https://adamoudad.github.io/categories/programming">Programming</a></li>
          
            
            <li><a class="article-category-link" href="https://adamoudad.github.io/categories/web">Web</a></li>
          
        </ul>
      </li>
    
  
  
    
    
      <li class="tags">
        <ul>
          
            
            <li><a class="article-category-link" href="https://adamoudad.github.io/tags/python">python</a></li>
          
            
            <li><a class="article-category-link" href="https://adamoudad.github.io/tags/web">web</a></li>
          
        </ul>
      </li>
    
  
</ul>

  </footer>
</article>

    <article class="post">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "adamoudad-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </article>




<div class="pagination">
  
    <a href="/posts/data-processing-libraries/" class="button"><div class="previous"><div>Data processing libraries in Python</div></div></a>
  
  
    <a href="/posts/random-aphorism-notifications/" class="button"><div class="next"><div>Schedule random aphorism notifications for your desktop</div></div></a>
  
</div>


      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent posts</h1>
      </header>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/progress_bar_with_tqdm/">Training models with a progress a bar</a></h1>
          <time class="published" datetime="">October 12, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/format-dates-python3/">How to format dates in Python3</a></h1>
          <time class="published" datetime="">August 4, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/random-aphorism-notifications/">Schedule random aphorism notifications for your desktop</a></h1>
          <time class="published" datetime="">June 18, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/python-slack-bot/">Have a bot haunt your Slack workspace</a></h1>
          <time class="published" datetime="">May 21, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
        <section>
          

        </section>
        <header>
          <h1><a href="/posts/data-processing-libraries/">Data processing libraries in Python</a></h1>
          <time class="published" datetime="">May 12, 2020</time>
        </header>
      </article>
      
      
        <a href="/posts/" class="button">See more</a>
      
    </section>
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories">Categories</a></h1>
        </header>
        <ul>
          
            
          
          
          <li>
            
              <a href="/categories/machine-learning/">machine-learning<span class="count">6</span></a>
            
          
          <li>
            
              <a href="/categories/programming/">programming<span class="count">6</span></a>
            
          
          <li>
            
              <a href="/categories/natural-language-processing/">natural-language-processing<span class="count">3</span></a>
            
          
          <li>
            
              <a href="/categories/japanese/">japanese<span class="count">2</span></a>
            
          
          <li>
            
              <a href="/categories/linux/">linux<span class="count">2</span></a>
            
          
          <li>
            
              <a href="/categories/web/">web<span class="count">2</span></a>
            
          
          <li>
            
              <a href="/categories/emacs/">emacs<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/linguistic/">linguistic<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/python/">python<span class="count">1</span></a>
            
          
          <li>
            
              <a href="/categories/random/">random<span class="count">1</span></a>
            
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>This website is a weblog were I write about computer science, machine learning, language learning.</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/adamoudad" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/7013114/adam-oudad" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>








<li><a href="//medium.com/@adam.oudad" target="_blank" rel="noopener" title="Medium" class="fab fa-medium"></a></li>
<li><a href="//linkedin.com/in/adam-oudad-9436b866" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/OudadAdam" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>







<li><a href="//researchgate.net/profile/Adam_Oudad" target="_blank" rel="noopener" title="Research Gate"><i class="ai ai-researchgate"></i></a></li>




      </ul>
  
  <p class="copyright">
    
      &copy; 2020
      
        Adam Oudad
      
    . <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.72.0' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css" integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js" integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js" integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>


      <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script><script src="/js/bundle.min.e0c399b948d3cf5c3a5e3badb94023d0b064a19ac39fd8cd79fb9f57fa4d1091.js" integrity="sha256-4MOZuUjTz1w6XjutuUAj0LBkoZrDn9jNefufV/pNEJE="></script>
    <script src="/js/add-on.js"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-150494000-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
  </body>
</html>
